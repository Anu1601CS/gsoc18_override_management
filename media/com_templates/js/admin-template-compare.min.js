document.addEventListener("DOMContentLoaded",function(){var e=function(e,t){var a=t.nextElementSibling,n="",l=null,s=JsDiff.diffLines(e.innerHTML,t.innerHTML),o=document.createDocumentFragment();s.forEach(function(e){var t,a;n=e.added?"#a6f3a6":e.removed?"#f8cbcb":"",(l=document.createElement("pre")).style.backgroundColor=n,l.className="diffview",l.appendChild(document.createTextNode((t=e.value,a={"&amp;":"&","&#038;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#039;":"'","&#8217;":"’","&#8216;":"‘","&#8211;":"–","&#8212;":"—","&#8230;":"…","&#8221;":"”"},t.replace(/\&[\w\d\#]{2,5}\;/g,function(e){return a[e]})))),o.appendChild(l)}),a.appendChild(o)},t="onclick-task",a=document.getElementById("override-pane"),n=document.getElementById("core-pane"),l=document.getElementById("diff-main"),s=[].slice.call(document.querySelectorAll("["+t+"]")),o=document.getElementById("conditional-section");0!==s.length?(s.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),function(e){var s=e.target.getAttribute(t);if("template.show.core"===s){if(n){"none"===n.style.display?(e.target.className="btn btn-success",e.target.innerHTML=Joomla.JText._("COM_TEMPLATES_LAYOUTS_DIFFVIEW_HIDE_CORE"),n.style.display="block",a.className="col-md-6",Joomla.editors.instances.jform_core.refresh()):(e.target.className="btn btn-danger",e.target.innerHTML=Joomla.JText._("COM_TEMPLATES_LAYOUTS_DIFFVIEW_SHOW_CORE"),n.style.display="none",a.className="col-md-12");var o={class:e.target.className,title:e.target.innerHTML,display:n.style.display,overrideClass:a.className};"undefined"!=typeof Storage&&localStorage.setItem("coreButtonState",JSON.stringify(o))}}else if("template.show.diff"===s&&l){"none"===l.style.display?(e.target.className="btn btn-success",e.target.innerHTML=Joomla.JText._("COM_TEMPLATES_LAYOUTS_DIFFVIEW_HIDE_DIFF"),l.style.display="block"):(e.target.className="btn btn-danger",e.target.innerHTML=Joomla.JText._("COM_TEMPLATES_LAYOUTS_DIFFVIEW_SHOW_DIFF"),l.style.display="none");var r={class:e.target.className,title:e.target.innerHTML,display:l.style.display};"undefined"!=typeof Storage&&localStorage.setItem("diffButtonState",JSON.stringify(r))}}(e)})}),function(){if("undefined"!=typeof Storage){var e=JSON.parse(localStorage.getItem("coreButtonState")),t=JSON.parse(localStorage.getItem("diffButtonState"));null!==e&&n&&a&&(s[0].className=e.class,s[0].innerHTML=e.title,n.style.display=e.display,a.className=e.overrideClass),null!==t&&l&&(s[1].className=t.class,s[1].innerHTML=t.title,l.style.display=t.display)}}()):a&&o&&(o.className="col-md-12",a.className="col-md-12");for(var r=[].slice.call(document.querySelectorAll("#original")),i=0,c=r.length;i<c;i+=1)e(r[i],r[i].nextElementSibling)});